[gd_scene load_steps=7 format=2]

[ext_resource path="res://Materials/Grids/grid_green.tres" type="Material" id=1]
[ext_resource path="res://Materials/Grids/grid_dark.tres" type="Material" id=2]
[ext_resource path="res://Scenes/Player.tscn" type="PackedScene" id=3]

[sub_resource type="GDScript" id=1]
script/source = "extends Spatial

var player_scn = preload(\"res://Scenes/Player.tscn\")

onready var player = $Player
#onready var cinema_cam = $Camera

func _ready() -> void:
	player.mode = player.MODE.CINEMATIC


func _on_animation_finished(anim_name: String) -> void:
	\"\"\"
	var player = player_scn.instance()
	add_child(player)
	player.translate_camera(cinema_cam.translation)
	#player.camera.current = true
	cinema_cam.queue_free()
	\"\"\"
	player.mode = player.MODE.GAME
"

[sub_resource type="Animation" id=3]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("Player:translation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( 0, 3, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Player:rotation_degrees")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( 0, 0, 0 ) ]
}
tracks/2/type = "bezier"
tracks/2/path = NodePath("Player:rotation_degrees:x")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"points": PoolRealArray( 0, -0.25, 0, 0.25, 0 ),
"times": PoolRealArray( 0 )
}
tracks/3/type = "bezier"
tracks/3/path = NodePath("Player:rotation_degrees:y")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"points": PoolRealArray( 0, -0.25, 0, 0.25, 0 ),
"times": PoolRealArray( 0 )
}
tracks/4/type = "bezier"
tracks/4/path = NodePath("Player:rotation_degrees:z")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"points": PoolRealArray( 0, -0.25, 0, 0.25, 0 ),
"times": PoolRealArray( 0 )
}
tracks/5/type = "value"
tracks/5/path = NodePath("Camera:current")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ false ]
}
tracks/6/type = "bezier"
tracks/6/path = NodePath("Camera:translation:x")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/keys = {
"points": PoolRealArray( -44.951, -0.25, 0, 0.25, 0 ),
"times": PoolRealArray( 0 )
}
tracks/7/type = "bezier"
tracks/7/path = NodePath("Camera:translation:y")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/keys = {
"points": PoolRealArray( 14.569, -0.25, 0, 0.25, 0 ),
"times": PoolRealArray( 0 )
}
tracks/8/type = "bezier"
tracks/8/path = NodePath("Camera:translation:z")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/keys = {
"points": PoolRealArray( 0, -0.25, 0, 0.25, 0 ),
"times": PoolRealArray( 0 )
}

[sub_resource type="Animation" id=2]
resource_name = "test"
length = 12.0
tracks/0/type = "value"
tracks/0/path = NodePath("Player:translation")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 7.9, 9.4, 10.9, 11.9 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector3( -14, 7.752, -16 ), Vector3( -14, 7.752, -7 ), Vector3( -14, 7.752, 0 ), Vector3( -7, 5.376, 7 ), Vector3( 0, 3, 0 ) ]
}
tracks/1/type = "bezier"
tracks/1/path = NodePath("Player:rotation_degrees:x")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"points": PoolRealArray( 0, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0 ),
"times": PoolRealArray( 0, 7.9, 11.9 )
}
tracks/2/type = "bezier"
tracks/2/path = NodePath("Player:rotation_degrees:y")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"points": PoolRealArray( -180, -0.25, 0, 0.25, 0, -180, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0 ),
"times": PoolRealArray( 0, 7.9, 11.9 )
}
tracks/3/type = "bezier"
tracks/3/path = NodePath("Player:rotation_degrees:z")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"points": PoolRealArray( 0, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0 ),
"times": PoolRealArray( 0, 7.9, 11.9 )
}
tracks/4/type = "value"
tracks/4/path = NodePath("Camera:current")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0, 6.1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ true, false ]
}
tracks/5/type = "bezier"
tracks/5/path = NodePath("Camera:translation:x")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"points": PoolRealArray( -44.806, -0.25, 0, 0.25, 0, -44.951, -0.25, 0, 0.25, 0 ),
"times": PoolRealArray( 0, 7 )
}
tracks/6/type = "bezier"
tracks/6/path = NodePath("Camera:translation:y")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/keys = {
"points": PoolRealArray( 14.5691, -0.25, 0, 0.25, 0, 14.569, -0.25, 0, 0.25, 0 ),
"times": PoolRealArray( 0, 7 )
}
tracks/7/type = "bezier"
tracks/7/path = NodePath("Camera:translation:z")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/keys = {
"points": PoolRealArray( -19.3558, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0 ),
"times": PoolRealArray( 0, 7 )
}

[node name="Cinematic" type="Spatial"]
script = SubResource( 1 )

[node name="CSGCombiner" type="CSGCombiner" parent="."]
use_collision = true

[node name="CSGBox" type="CSGBox" parent="CSGCombiner"]
transform = Transform( 3.9, 0, 0, 0, 1, 0, 0, 0, 3.9, 0, 0.489617, 0 )
width = 52.0
height = 0.438884
depth = 44.0
material = ExtResource( 2 )

[node name="CSGBox2" type="CSGBox" parent="CSGCombiner"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -10, 3.57515, -23 )
width = 4.0
height = 4.0
depth = 4.0
material = ExtResource( 1 )

[node name="CSGBox3" type="CSGBox" parent="CSGCombiner"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 3.57515, -18 )
width = 4.0
height = 4.0
depth = 4.0
material = ExtResource( 1 )

[node name="CSGBox4" type="CSGBox" parent="CSGCombiner"]
transform = Transform( 0.578342, 0, -0.815795, 0, 1, 0, 0.815795, 0, 0.578342, -28.2613, 3.57515, -0.328657 )
width = 4.0
height = 4.0
depth = 4.0
material = ExtResource( 1 )

[node name="CSGBox5" type="CSGBox" parent="CSGCombiner"]
transform = Transform( 0.578342, 0, -0.815795, 0, 1, 0, 0.815795, 0, 0.578342, -24.8219, 3.57515, 13.1684 )
width = 4.0
height = 4.0
depth = 4.0
material = ExtResource( 1 )

[node name="CSGBox6" type="CSGBox" parent="CSGCombiner"]
transform = Transform( -0.234056, 0, -0.972223, 0, 1, 0, 0.972223, 0, -0.234056, 14.6507, 3.53011, 16.4215 )
width = 4.0
height = 4.0
depth = 4.0
material = ExtResource( 1 )

[node name="CSGBox7" type="CSGBox" parent="CSGCombiner"]
transform = Transform( -0.234056, 0, -0.972223, 0, 1, 0, 0.972223, 0, -0.234056, 6.74684, 3.53011, 27.8902 )
width = 4.0
height = 4.0
depth = 4.0
material = ExtResource( 1 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
autoplay = "test"
anims/RESET = SubResource( 3 )
anims/test = SubResource( 2 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.524863, 0.578887, -0.624026, 0, 0.733125, 0.680094, 0.851187, -0.356956, 0.38479, 0, 12.7955, 0 )
layers = 3
shadow_enabled = true

[node name="Player" parent="." instance=ExtResource( 3 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3, 0 )
start_mode = 1

[node name="Camera" type="Camera" parent="."]
transform = Transform( -4.37114e-08, 0.274748, -0.961516, 0, 0.961516, 0.274748, 1, 1.20096e-08, -4.20292e-08, -44.951, 14.569, 0 )
fov = 34.6

[connection signal="animation_finished" from="AnimationPlayer" to="." method="_on_animation_finished"]
