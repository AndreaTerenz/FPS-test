[gd_scene load_steps=13 format=2]

[ext_resource path="res://Scenes/UI/Pause menu.tscn" type="PackedScene" id=1]
[ext_resource path="res://Materials/Grids/grid_light.tres" type="Material" id=2]
[ext_resource path="res://Assets/Textures/Rooms/part 0/observation_room_cm.png" type="Texture" id=3]
[ext_resource path="res://Materials/Shaders/interior_map.gdshader" type="Shader" id=7]

[sub_resource type="ProceduralSky" id=8]

[sub_resource type="Environment" id=9]
resource_local_to_scene = true
background_mode = 3
background_sky = SubResource( 8 )
background_color = Color( 0.172549, 0.172549, 0.172549, 1 )
tonemap_mode = 4
ss_reflections_fade_in = 0.204906
ssao_intensity = 68.37
glow_enabled = true
glow_intensity = 6.07
glow_strength = 0.76
glow_bicubic_upscale = true
glow_high_quality = true

[sub_resource type="GDScript" id=14]
script/source = "extends Camera


func _process(delta: float) -> void:
	
	var dir := Vector3.ZERO
	
	if Input.is_action_pressed(\"move_l\"):
		dir += Vector3.LEFT
	elif Input.is_action_pressed(\"move_r\"):
		dir += Vector3.RIGHT
	
	if Input.is_action_pressed(\"move_f\"):
		dir += Vector3.FORWARD
	elif Input.is_action_pressed(\"move_b\"):
		dir += Vector3.BACK
	
	if Input.is_action_pressed(\"jump\"):
		dir += Vector3.UP
	elif Input.is_action_pressed(\"crouch\"):
		dir += Vector3.DOWN
		
	dir = dir.normalized()
	
	translate(dir * 2.0 * delta)
"

[sub_resource type="PlaneMesh" id=10]
size = Vector2( 10, 10 )

[sub_resource type="PlaneMesh" id=21]

[sub_resource type="OpenSimplexNoise" id=23]

[sub_resource type="NoiseTexture" id=24]
width = 1024
height = 1024
seamless = true
as_normalmap = true
bump_strength = 32.0
noise = SubResource( 23 )

[sub_resource type="ShaderMaterial" id=22]
shader = ExtResource( 7 )
shader_param/room_depth = 1.0
shader_param/emission_strength = 0.0
shader_param/cubemap_albedo = ExtResource( 3 )
shader_param/cubemap_normalmap = SubResource( 24 )

[node name="Spatial" type="Spatial"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 9 )

[node name="Camera" type="Camera" parent="."]
transform = Transform( 1, 0, 1.06581e-14, 0, 1, 0, -1.06581e-14, 0, 1, -1.19209e-07, 1, 2 )
script = SubResource( 14 )

[node name="Pause menu" parent="." instance=ExtResource( 1 )]

[node name="MeshInstance" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.82716, 0 )
mesh = SubResource( 10 )
material/0 = ExtResource( 2 )

[node name="MeshInstance4" type="MeshInstance" parent="MeshInstance"]
transform = Transform( 3.35652, 0, 0, 0, -6.54607e-08, -1.49757, 0, 1, -4.37114e-08, 0.158044, 1.95572, -2 )
mesh = SubResource( 21 )
material/0 = SubResource( 22 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.67939, -0.0376611, 0.73281, -0.149992, 0.970467, 0.188933, -0.718284, -0.238275, 0.653677, 0, 0, 0 )
visible = false
shadow_bias = -0.203
